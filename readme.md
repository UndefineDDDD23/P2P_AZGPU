# P2P Video Chat with WebRTC and WebSocket Signaling Server

Это простой P2P видеочат с поддержкой нескольких участников в комнате на базе WebRTC и собственным WebSocket-сервером для сигналинга, написанным на PHP с использованием Ratchet.
*Данный проект создан в учебных целях и может быть использован как угодно и кем угодно*

## Описание

Проект реализует передачу видео и аудио потоков между участниками в одной комнате с помощью WebRTC. Для обмена сигналами (SDP, ICE-кандидатами) используется WebSocket сервер на PHP (Ratchet).  

Позволяет создавать комнаты с защитой секретным ключом, присоединяться к ним, управлять видео и аудио (включать/выключать камеру, микрофон, демонстрировать экран).

## Технологии

- Клиент: Vanilla JavaScript, WebRTC API, WebSocket API  
- Сервер: PHP 7.4+, Ratchet (WebSocket)  
- Логирование: Кастомный Logger  
- Протокол: WebSocket для сигналинга  

## Установка и запуск

### Требования

- PHP 7.4 и выше
- Composer
- WebSocket порт 8080 открыт
- Веб-сервер (Apache, Nginx, или встроенный PHP сервер)

### Установка

1. Клонируйте репозиторий:
   ```bash
   git clone <url>
   cd P2P_AZGPU
   ```

2. Установите зависимости для сервера сигналинга:
   ```bash
   cd signaling_server
   composer install
   ```

3. Установите зависимости для клиента:
   ```bash
   cd ../client
   composer install
   ```

### Настройка

4. Настройте пароль администратора и URL клиентского приложения в файле `signaling_server/env.php`:
   ```php
   return [
      'APP_URL' => 'http://localhost:3000/client/',   // Ваш URL 
      'ADMIN_PASSWORD' => 'root',                     // Ваш пароль
   ];
   ```

### Запуск

5. Запустите клиентское приложение:
   ```bash
   cd client
   php -S localhost:3000
   ```
   Или используйте любой веб-сервер (Apache, Nginx) для обслуживания папки `client/` на любом порту.

6. Запустите WebSocket сервер сигналинга:
   ```bash
   cd signaling_server
   php index.php
   ```

7. Откройте браузер и перейдите по адресу вашего клиентского приложения

### Использование

- Создайте комнату, введя пароль администратора
- Скопируйте сгенерированную ссылку и поделитесь ею с участниками
- Участники могут присоединиться к комнате по ссылке
- Используйте кнопки для управления камерой, микрофоном и демонстрацией экрана